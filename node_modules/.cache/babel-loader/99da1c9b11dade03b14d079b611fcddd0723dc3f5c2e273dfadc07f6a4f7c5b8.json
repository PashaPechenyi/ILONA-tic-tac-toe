{"ast":null,"code":"var _jsxFileName = \"/Users/ilonadrobot/Desktop/Lessons PLUS/react-hrestykyNolyky/src/components/Main3.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { checkBoardWinner } from \"./functions\";\nimport \"./main.css\";\nimport RowCompoment from \"./RowCompoment\";\nimport HistoryDisplay from \"./HistoryDisplay\";\nimport Settins from \"./Settings\";\nimport WinnerModal from \"./WinnerModal\";\n\n// const calculateIsDraw = (cells: Cell[], winner: Player | null) => {\n//   const playerArray = cells.map((el) => {\n//     return el.player;\n//   });\n\n//   console.log(playerArray, \"playerArray\");\n//   const isBoardFilled = !playerArray.includes(null);\n//   const isDraw = !winner && isBoardFilled;\n//   return isDraw;\n// };\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst verifyIsBoardFilled = (turnsHistory, boardSize) => {\n  return turnsHistory.length == boardSize * boardSize;\n};\nconst rowIndex = 1;\nconst row = [0, 1, 2];\nconst newRow = row.map(el => {\n  return {\n    player: null,\n    place: {\n      row: rowIndex,\n      column: el\n    }\n  };\n});\nconst createArrayByLength = length => {\n  return Array.from({\n    length\n  }, (el, index) => index);\n};\nconst calculateCells = (turnsHistory, boardSize) => {\n  const initialCells = createArrayByLength(boardSize).map((el, ind) => {\n    const row = createArrayByLength(boardSize);\n    return row.map(col => {\n      return {\n        player: null,\n        place: {\n          row: el,\n          column: col\n        }\n      };\n    });\n  });\n  turnsHistory.forEach(turn => {\n    console.log(turn, \"turn\");\n    initialCells[turn.place.row][turn.place.column] = {\n      player: turn.player,\n      place: turn.place\n    };\n    console.log(initialCells, \"initialCells\");\n  });\n  return initialCells;\n};\nconst cellWidthCountig = boardSize => {\n  const divWith = (490 - 15 * (boardSize - 1)) / boardSize;\n  const fontSize = 110 - boardSize * boardSize;\n  return {\n    divWith,\n    fontSize\n  };\n};\nconst calculateActivePlayer = turnsHistory => {\n  if (!turnsHistory.length) {\n    return \"X\";\n  }\n  if (turnsHistory[turnsHistory.length - 1].player === \"X\") {\n    return \"0\";\n  } else {\n    return \"X\";\n  }\n};\nfunction Main() {\n  _s();\n  const [turnsHistory, setTurnsHistory] = useState([]);\n  console.log(turnsHistory, \"TurnsHistory02\");\n  //  const [winner, setWinner] = useState<Player | null>(null);\n  //const [winnerCombination, setWinnerCombination] = useState<Position[] | null>(null);\n  const [settings, setSettings] = useState({\n    boardSize: 3,\n    winCombinationLength: 3,\n    enableDisappearingMode: false,\n    amountOfUnDisappearingCells: 5\n  });\n  // const [winCombinationLength, setWinCombinationLength] = useState(3);\n  // const [boardSize, setBoardSize] = useState(3);\n\n  // const cells = calculateCells(turnsHistory, settings.boardSize);\n  const cells = useMemo(() => {\n    return calculateCells(turnsHistory, settings.boardSize);\n  }, [turnsHistory, settings.boardSize]);\n  const activePlayer = calculateActivePlayer(turnsHistory);\n  let cellArray = [];\n  cells.forEach(el => {\n    el.forEach(el1 => {\n      cellArray = [...cellArray, el1];\n    });\n  });\n  console.log(cellArray, \"cell\");\n\n  // //  const [enableDisappearingMode, setEnableDisappearingMode] =\n  //     useState<boolean>(false);\n  let winnerComb = [];\n  const cellWidth = cellWidthCountig(settings.boardSize);\n  function getGameWinner(cellsList) {\n    const isWinner = checkBoardWinner(cellsList, settings.winCombinationLength);\n    // if (isWinner) {\n    //   const lastMove = isWinner[0].player;\n\n    //   setWinner(lastMove);\n    // } else {\n    //   setWinner(null);\n    // }\n\n    const newComb = isWinner === null || isWinner === void 0 ? void 0 : isWinner.map(el => {\n      return el.place;\n    });\n    // if (newComb != undefined) {\n    //   setWinnerCombination(newComb);\n    // }\n\n    console.log(winnerComb, \"winnerComb\");\n    return isWinner;\n  }\n  const winnerCombination = useMemo(() => {\n    const newCells = calculateCells(turnsHistory, settings.boardSize);\n    const newComb = checkBoardWinner(newCells, settings.winCombinationLength);\n    if (newComb != undefined) {\n      return newComb;\n    }\n    return null;\n  }, [turnsHistory]);\n  function changePole(position, cell) {\n    const turnsHistoryEl = turnsHistory.find(el => {\n      return el.place.column == position.column && el.place.row == position.row;\n    });\n    if (turnsHistoryEl || winner) {\n      return;\n    }\n    setTurnsHistory(prev => {\n      let newHistory = [...prev, {\n        place: position,\n        player: activePlayer\n      }];\n      if (settings.enableDisappearingMode && newHistory.length > settings.amountOfUnDisappearingCells) {\n        newHistory = newHistory.slice(newHistory.length - settings.amountOfUnDisappearingCells);\n      }\n      return newHistory;\n    });\n  }\n  useEffect(() => {\n    const newCells = calculateCells(turnsHistory, settings.boardSize);\n    getGameWinner(newCells);\n  }, [turnsHistory]);\n  const winner = useMemo(() => {\n    const gameWinner = getGameWinner(cells);\n    if (gameWinner) {\n      return turnsHistory[turnsHistory.length - 1].player;\n    }\n    return null;\n  }, [turnsHistory, cells]);\n  const isBoardFilled = verifyIsBoardFilled(turnsHistory, settings.boardSize);\n  function returnToMove(place, player) {\n    const returnMoves = [];\n    for (let i = 0; i < turnsHistory.length; i++) {\n      returnMoves.push(turnsHistory[i]);\n      if (turnsHistory[i].place.column === place.column && turnsHistory[i].place.row === place.row) break;\n    }\n    return setTurnsHistory(returnMoves);\n  }\n  function check() {\n    setSettings(prev => ({\n      ...prev,\n      enableDisappearingMode: !prev.enableDisappearingMode\n    }));\n    // setEnableDisappearingMode((prev) => !prev);\n  }\n  function startNewGame() {\n    //setWinner(null);\n\n    //setWinnerCombination(null);\n    setTurnsHistory([]);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"display\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-div\",\n      children: [/*#__PURE__*/_jsxDEV(Settins\n      // enableDisappearingMode={enableDisappearingMode}\n      //setWinCombinationLength={setWinCombinationLength}\n      , {\n        setSettings: setSettings\n        // setBoardSize={setBoardSize}\n        ,\n        settings: settings,\n        check: () => check(),\n        setTurnHistory: setTurnsHistory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HistoryDisplay, {\n        turnsHistory: turnsHistory\n        //setWinnerCombination={setWinnerCombination}\n        ,\n        returnToMove: returnToMove\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"con\",\n        children: cells.map((row, rowInd) => /*#__PURE__*/_jsxDEV(RowCompoment, {\n          row: row,\n          rowInd: rowInd,\n          cellSize: cellWidth,\n          changePole: changePole,\n          winnerCombination: winnerCombination\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(WinnerModal, {\n        isBoardFilled: isBoardFilled,\n        winner: winner,\n        startNewGame: startNewGame\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 219,\n    columnNumber: 5\n  }, this);\n}\n_s(Main, \"Vts6gDzYz1AU5ELC8JQhY+uzEg0=\");\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","checkBoardWinner","RowCompoment","HistoryDisplay","Settins","WinnerModal","jsxDEV","_jsxDEV","verifyIsBoardFilled","turnsHistory","boardSize","length","rowIndex","row","newRow","map","el","player","place","column","createArrayByLength","Array","from","index","calculateCells","initialCells","ind","col","forEach","turn","console","log","cellWidthCountig","divWith","fontSize","calculateActivePlayer","Main","_s","setTurnsHistory","settings","setSettings","winCombinationLength","enableDisappearingMode","amountOfUnDisappearingCells","cells","activePlayer","cellArray","el1","winnerComb","cellWidth","getGameWinner","cellsList","isWinner","newComb","winnerCombination","newCells","undefined","changePole","position","cell","turnsHistoryEl","find","winner","prev","newHistory","slice","gameWinner","isBoardFilled","returnToMove","returnMoves","i","push","check","startNewGame","className","children","setTurnHistory","fileName","_jsxFileName","lineNumber","columnNumber","rowInd","cellSize","_c","$RefreshReg$"],"sources":["/Users/ilonadrobot/Desktop/Lessons PLUS/react-hrestykyNolyky/src/components/Main3.tsx"],"sourcesContent":["import React, { use, useEffect, useMemo, useState } from \"react\";\nimport {\n  Cells,\n  TurnHistory,\n  Cell,\n  Position,\n  CellWidth,\n} from \"./models/gameType\";\nimport { Player } from \"./models/gameType\";\nimport { checkBoardWinner, checkRowWinner } from \"./functions\";\nimport \"./main.css\";\nimport CellComponent from \"./Cell\";\nimport { write } from \"fs\";\nimport RowCompoment from \"./RowCompoment\";\nimport HistoryDisplay from \"./HistoryDisplay\";\nimport Settins from \"./Settings\";\nimport WinnerModal from \"./WinnerModal\";\n\n// const calculateIsDraw = (cells: Cell[], winner: Player | null) => {\n//   const playerArray = cells.map((el) => {\n//     return el.player;\n//   });\n\n//   console.log(playerArray, \"playerArray\");\n//   const isBoardFilled = !playerArray.includes(null);\n//   const isDraw = !winner && isBoardFilled;\n//   return isDraw;\n// };\nconst verifyIsBoardFilled = (turnsHistory: TurnHistory[], boardSize: number) => {\n  return turnsHistory.length == boardSize * boardSize;\n};\nconst rowIndex = 1;\nconst row = [0, 1, 2];\nconst newRow: Cell[] = row.map((el) => {\n  return { player: null, place: { row: rowIndex, column: el } };\n});\n\nconst createArrayByLength = (length: number) => {\n  return Array.from({ length }, (el, index) => index);\n};\n\nconst calculateCells = (turnsHistory: TurnHistory[], boardSize: number) => {\n  const initialCells: Cell[][] = createArrayByLength(boardSize).map(\n    (el, ind) => {\n      const row = createArrayByLength(boardSize);\n      return row.map((col) => {\n        return { player: null, place: { row: el, column: col } };\n      });\n    }\n  );\n\n  turnsHistory.forEach((turn) => {\n    console.log(turn, \"turn\");\n\n    initialCells[turn.place.row][turn.place.column] = {\n      player: turn.player,\n      place: turn.place,\n    };\n\n    console.log(initialCells, \"initialCells\");\n  });\n\n  return initialCells;\n};\nconst cellWidthCountig = (boardSize: number) => {\n  const divWith = (490 - 15 * (boardSize - 1)) / boardSize;\n  const fontSize = 110 - boardSize * boardSize;\n  return {\n    divWith,\n    fontSize,\n  };\n};\n\nconst calculateActivePlayer = (turnsHistory: Cell[]): Player => {\n  if (!turnsHistory.length) {\n    return \"X\";\n  }\n\n  if (turnsHistory[turnsHistory.length - 1].player === \"X\") {\n    return \"0\";\n  } else {\n    return \"X\";\n  }\n};\n\nfunction Main() {\n  const [turnsHistory, setTurnsHistory] = useState<TurnHistory[]>([]);\n\n  console.log(turnsHistory, \"TurnsHistory02\");\n  //  const [winner, setWinner] = useState<Player | null>(null);\n  //const [winnerCombination, setWinnerCombination] = useState<Position[] | null>(null);\n  const [settings, setSettings] = useState({\n    boardSize: 3,\n    winCombinationLength: 3,\n    enableDisappearingMode: false,\n    amountOfUnDisappearingCells: 5,\n  });\n  // const [winCombinationLength, setWinCombinationLength] = useState(3);\n  // const [boardSize, setBoardSize] = useState(3);\n\n  // const cells = calculateCells(turnsHistory, settings.boardSize);\n  const cells = useMemo(() => {\n    return calculateCells(turnsHistory, settings.boardSize);\n  }, [turnsHistory, settings.boardSize]);\n  const activePlayer = calculateActivePlayer(turnsHistory);\n  let cellArray: Cell[] = [];\n  cells.forEach((el) => {\n    el.forEach((el1) => {\n      cellArray = [...cellArray, el1];\n    });\n  });\n  console.log(cellArray, \"cell\");\n\n  // //  const [enableDisappearingMode, setEnableDisappearingMode] =\n  //     useState<boolean>(false);\n  let winnerComb: Position[] = [];\n  const cellWidth: CellWidth = cellWidthCountig(settings.boardSize);\n\n  function getGameWinner(cellsList: Cell[][]) {\n    const isWinner = checkBoardWinner(cellsList, settings.winCombinationLength);\n    // if (isWinner) {\n    //   const lastMove = isWinner[0].player;\n\n    //   setWinner(lastMove);\n    // } else {\n    //   setWinner(null);\n    // }\n\n    const newComb = isWinner?.map((el) => {\n      return el.place;\n    });\n    // if (newComb != undefined) {\n    //   setWinnerCombination(newComb);\n    // }\n\n    console.log(winnerComb, \"winnerComb\");\n\n    return isWinner;\n  }\n\n  const winnerCombination:Player = useMemo(() => {\n     const newCells = calculateCells(turnsHistory, settings.boardSize);\n\n    const newComb=checkBoardWinner(newCells, settings.winCombinationLength);\n    if (newComb != undefined) {\n      return newComb;\n    }\n    return null;\n  }, [turnsHistory]);\n\n  function changePole(position: Position, cell: Cells) {\n    const turnsHistoryEl = turnsHistory.find((el: any) => {\n      return el.place.column == position.column && el.place.row == position.row;\n    });\n    if (turnsHistoryEl || winner) {\n      return;\n    }\n\n    setTurnsHistory((prev: any) => {\n      let newHistory = [...prev, { place: position, player: activePlayer }];\n\n      if (\n        settings.enableDisappearingMode &&\n        newHistory.length > settings.amountOfUnDisappearingCells\n      ) {\n        newHistory = newHistory.slice(\n          newHistory.length - settings.amountOfUnDisappearingCells\n        );\n      }\n\n      return newHistory;\n    });\n  }\n\n  useEffect(() => {\n    const newCells = calculateCells(turnsHistory, settings.boardSize);\n\n    getGameWinner(newCells);\n  }, [turnsHistory]);\n\n  const winner = useMemo(() => {\n    const gameWinner = getGameWinner(cells);\n    if (gameWinner) {\n      return turnsHistory[turnsHistory.length - 1].player;\n    }\n    return null;\n  }, [turnsHistory, cells]);\n  const isBoardFilled = verifyIsBoardFilled(turnsHistory, settings.boardSize);\n\n  function returnToMove(place: Position, player: Player) {\n    const returnMoves = [];\n\n    for (let i = 0; i < turnsHistory.length; i++) {\n      returnMoves.push(turnsHistory[i]);\n      if (\n        turnsHistory[i].place.column === place.column &&\n        turnsHistory[i].place.row === place.row\n      )\n        break;\n    }\n\n    return setTurnsHistory(returnMoves);\n  }\n  function check() {\n    setSettings((prev) => ({\n      ...prev,\n      enableDisappearingMode: !prev.enableDisappearingMode,\n    }));\n    // setEnableDisappearingMode((prev) => !prev);\n  }\n  function startNewGame() {\n    //setWinner(null);\n\n    //setWinnerCombination(null);\n    setTurnsHistory([]);\n  }\n\n  return (\n    <div className=\"display\">\n      <div className=\"left-div\">\n        <Settins\n          // enableDisappearingMode={enableDisappearingMode}\n          //setWinCombinationLength={setWinCombinationLength}\n          setSettings={setSettings}\n          // setBoardSize={setBoardSize}\n          settings={settings}\n          check={() => check()}\n          setTurnHistory={setTurnsHistory}\n        />\n        <HistoryDisplay\n          turnsHistory={turnsHistory}\n          //setWinnerCombination={setWinnerCombination}\n          returnToMove={returnToMove}\n        />\n      </div>\n\n      <div className=\"right-div\">\n        <div className=\"con\">\n          {cells.map((row, rowInd) => (\n            <RowCompoment\n              row={row}\n              rowInd={rowInd}\n              cellSize={cellWidth}\n              changePole={changePole}\n              winnerCombination={winnerCombination}\n            />\n          ))}\n        </div>\n\n        {/* {isDraw && <p>Draw!</p>} */}\n        <WinnerModal\n          isBoardFilled={isBoardFilled}\n          winner={winner}\n          startNewGame={startNewGame}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Main;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}